{"version":3,"sources":["App.js","index.js"],"names":["qualityGlobal","titleGlobal","globalId","App","useState","imgThmb","setImg","wrongLink","wrongLinkSet","loadgif","loadgifSet","isUrlValid","isUrlValidSet","inpRef","useRef","dlquality","quality","elements","document","getElementsByClassName","i","style","border","getElementById","visibility","console","log","a","ql","ext","fetch","then","r","blob","url","window","URL","createObjectURL","createElement","href","download","click","catch","error","alert","className","icon","faYoutube","onChange","current","value","length","includes","class","videoID","tmplen","slice","json","title","items","snippet","thumbnail","thumbnails","high","err","type","ref","src","onClick","id","dwn","faSyncAlt","faCloudDownloadAlt","ReactDOM","render"],"mappings":"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","file":"static/js/main.3ac7dec3.chunk.js","sourcesContent":["import React, { useRef , useState } from 'react';\nimport './App.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faYoutube } from '@fortawesome/free-brands-svg-icons'\nimport { faCloudDownloadAlt, faSyncAlt } from '@fortawesome/free-solid-svg-icons'\n\n\nlet qualityGlobal = 0;\nlet titleGlobal = 0;\nlet globalId =\"\";\nfunction App() {\n//inb4 'cd ytdwnreact'\n\n  const [imgThmb, setImg] = useState(0) //todo here (0) should go either transparent img or origin image for landing page\n  const [wrongLink, wrongLinkSet] = useState() \n  const [loadgif, loadgifSet] = useState() \n  const [isUrlValid, isUrlValidSet] = useState()\n\n  const inpRef = useRef(null);\n\n  const checkUrl =()=>{\n    document.getElementsByClassName('resultDiv')[0].style.visibility = \"hidden\"\n    document.getElementsByClassName('downloadDiv')[0].style.visibility = \"hidden\"\n\n    let elements = document.getElementsByClassName(\"btn\");\n    for(let i=0;i<3;i++){\n      elements[i].style.border= \"none\";\n    }\n\n    console.log('a',inpRef.current.value);\n    \n  if(inpRef.current.value.length<30 || !inpRef.current.value.includes(\"youtube\")){\n      wrongLinkSet(\"Invalid url\")\n      isUrlValidSet(<span class=\"tooltiptext\">Invalid URL!</span>)\n  }else{\n      isUrlValidSet()\n    wrongLinkSet()\n    document.getElementsByClassName('resultDiv')[0].style.visibility = \"visible\"\n    let videoID = inpRef.current.value\n    let tmplen = videoID.length;\n    tmplen = tmplen - 11;\n    console.log(tmplen);\n    videoID = videoID.slice(tmplen);\n\n    globalId = videoID;\n\n    const key='AIzaSyD8Y5272PGRc6KaA1r63NY6YT7E80Xa6vI'\n    \n    fetch(`https://www.googleapis.com/youtube/v3/videos?id=${videoID}&part=snippet&key=${key}`)\n    .then(r=>r.json())\n    .then(r=>{\n      console.log(r)\n      let title = r.items[0].snippet.title\n      let thumbnail = r.items[0].snippet.thumbnails.high.url\n      console.log(thumbnail,title)\n      setImg(thumbnail)\n      console.log(imgThmb)\n      titleGlobal = title;\n      console.log(titleGlobal,'tlglobal')\n    })\n    .catch(err=> /* sth went wrong */ console.log(err))\n\n    }\n  }\n  function dlquality(quality){\n\n    let elements = document.getElementsByClassName(\"btn\");\n    for(let i=0;i<3;i++){\n      elements[i].style.border= \"none\";\n    }\n\n    document.getElementById(`q${quality}`).style.border =\"3px solid red\"\n    document.getElementsByClassName('downloadDiv')[0].style.visibility = \"visible\"\n\n    console.log(quality);\n    qualityGlobal = quality\n  }\n  function download(){\n    //todo\n    console.log(qualityGlobal,\"gq\",inpRef.current.value)\n    dwn();\n    loadgifSet(<FontAwesomeIcon className=\"syncRot\" icon={faSyncAlt} />)\n  }\n\n\n  async function dwn(){\n    let ql, ext;\n    if(qualityGlobal==1) {\n      ql= 720;\n      ext = \"mp3\";\n    }\n    if(qualityGlobal==2) {\n      ql= 720;\n      ext = \"mp4\";\n    }\n    if(qualityGlobal==3) {\n      ql= 1080;\n      ext = \"mp4\";\n    }\n    \n    await fetch(\"https://distinct-curse-20546.herokuapp.com/\", {\n      \"credentials\": \"omit\",\n      \"headers\": {\n          \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:79.0) Gecko/20100101 Firefox/79.0\",\n          \"Accept\": \"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\",\n          \"Accept-Language\": \"en-US,en;q=0.5\",\n          \"Content-Type\": \"application/x-www-form-urlencoded\",\n          \"Upgrade-Insecure-Requests\": \"1\"\n      },\n      \"referrer\": \"https://distinct-curse-20546.herokuapp.com/\",\n      \"body\": `url=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3D${globalId}&ext=${ext}&qal=${ql}`,\n      \"method\": \"POST\",\n      \"mode\": \"cors\"\n  })\n  .then(r=>r.blob())\n  .then(blob=>{\n      let url = window.URL.createObjectURL(blob);\n      let a = document.createElement('a');\n      a.href = url;\n      if (qualityGlobal == 1) a.download = `${titleGlobal}.mp3`;\n      if (qualityGlobal == 2 || qualityGlobal == 3) a.download = `${titleGlobal}.mp4`;\n      a.click();\n      loadgifSet()\n    })\n  .catch(error=>{\n    console.log(error);\n    window.alert('error');\n  })\n  }\n\n  \n  return (\n    <div className=\"App\">\n      <div className=\"appName\">Youtube Download <FontAwesomeIcon className=\"ytIco\" icon={faYoutube} /></div>\n      <div className=\"inpDiv\" onChange={checkUrl}><input type=\"text\" className=\"inp\" ref={inpRef}></input>{isUrlValid}</div>\n      <div className=\"resultDiv\">\n          <div className=\"resultimgDiv\"><img src={imgThmb} className=\"img\"></img></div>\n          <div className=\"resultdownloadwrapperDiv\">\n            <div className=\"optionsDiv\">\n                <a className=\"btn btn-2\" onClick={()=>dlquality(1)} id=\"q1\">mp3</a>\n                <a className=\"btn btn-2\" onClick={()=>dlquality(2)} id=\"q2\">mp4 720p</a>\n                <a className=\"btn btn-2\" onClick={()=>dlquality(3)} id=\"q3\">mp4 1080p</a>\n\n            </div>\n            <div className=\"downloadDiv\"><a class=\"download\" onClick={download}>Download&nbsp;&nbsp;<FontAwesomeIcon className=\"dlIco\" icon={faCloudDownloadAlt} /></a></div>\n          <div className=\"loadDiv\">{loadgif}</div>\n          </div>\n          {wrongLink}\n      </div>\n      \n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <>\n    <App />\n  </>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}